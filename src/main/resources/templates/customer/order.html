<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>New Order | Mr. Daebak Dinner</title>
    <link rel="stylesheet" th:href="@{/CSS/style.css}">
</head>
<body>
<main>
    <h1>New Order</h1>
    <p>메뉴와 서빙 스타일을 선택하고 배달 정보를 입력한 뒤 제출하세요.</p>

    <!-- 주문 폼 -->
    <form id="orderForm" action="/customer/orders/new" method="post" autocomplete="off" novalidate>
        <!-- 메뉴 선택 -->
        <div>
            <label for="menuSelect">메뉴 선택</label>
            <select id="menuSelect" name="dinnerKind" required>
                <option value="" selected hidden>메뉴를 선택하세요</option>
                <option value="VALENTINE">Valentine dinner</option>
                <option value="FRENCH">French dinner</option>
                <option value="ENGLISH">English dinner</option>
                <option value="CHAMPAGNE">Champagne Feast dinner</option>
            </select>
        </div>

        <!-- 서빙 스타일 선택 -->
        <div>
            <label for="styleSelect">서빙 스타일 선택</label>
            <select id="styleSelect" name="dinnerStyle" required>
                <option value="" selected hidden>스타일을 선택하세요</option>
                <option value="SIMPLE">Simple</option>
                <option value="GRAND">Grand</option>
                <option value="DELUXE">Deluxe</option>
            </select>
        </div>

        <!-- 주문 아이템 -->
        <fieldset>
            <legend>주문 구성</legend>

            <div><label for="wine">와인 (&#8361;43,000)</label><input type="number" id="wine" name="orderItems[wine]" min="0" value="0"></div>
            <div><label for="steak">스테이크 (&#8361;39,000)</label><input type="number" id="steak" name="orderItems[steak]" min="0" value="0"></div>
            <div><label for="coffee_cup">커피 (컵) (&#8361;6,000)</label><input type="number" id="coffee_cup" name="orderItems[coffee_cup]" min="0" value="0"></div>
            <div><label for="coffee_pot">커피 (포트) (&#8361;36,000)</label><input type="number" id="coffee_pot" name="orderItems[coffee_pot]" min="0" value="0"></div>
            <div><label for="salad">샐러드 (&#8361;23,000)</label><input type="number" id="salad" name="orderItems[salad]" min="0" value="0"></div>
            <div><label for="eggscramble">스크램블 에그 (&#8361;16,000)</label><input type="number" id="eggscramble" name="orderItems[eggscramble]" min="0" value="0"></div>
            <div><label for="bacon">베이컨 (&#8361;10,000)</label><input type="number" id="bacon" name="orderItems[bacon]" min="0" value="0"></div>
            <div><label for="bread">빵 (&#8361;7,000)</label><input type="number" id="bread" name="orderItems[bread]" min="0" value="0"></div>
            <div><label for="baguette">바게트 (&#8361;8,000)</label><input type="number" id="baguette" name="orderItems[baguette]" min="0" value="0"></div>
            <div><label for="champagne">샴페인 (&#8361;98,000)</label><input type="number" id="champagne" name="orderItems[champagne]" min="0" value="0"></div>
        </fieldset>

        <!-- 배달 주소 -->
        <div>
            <label for="deliveryAddress">배달 주소</label>
            <input type="text" id="deliveryAddress" name="deliveryAddress" required/>
        </div>

        <!-- 카드 번호 -->
        <div>
            <label for="cardNumber">카드 번호</label>
            <input type="text" id="cardNumber" name="cardNumber" required/>
        </div>

        <div>
            <button type="reset" id="resetBtn">초기화</button>
            <button type="submit">주문 제출</button>
            <a href="/customer/main">이전</a>
        </div>
    </form>

    <!-- 에러 표시 -->
    <div th:if="${orderErrorMessage}">
        <p th:utext="${orderErrorMessage}" style="color: red;"></p>
    </div>
    <div th:if="${itemErrorMessage}">
        <p th:utext="${itemErrorMessage}" style="color: red;"></p>
        <ul>
            <li th:each="item : ${insufficientItems}" th:text="${item}" style="color: darkred;"></li>
        </ul>
    </div>
    <!-- 음성 인식 폼 -->
    <section>
        <h2>음성 인식 주문</h2>
        <form id="voiceForm" action="javascript:void(0);">
            <button type="button" id="voiceBtn">음성인식</button>
            <label for="voiceText">인식된 주문</label>
            <textarea id="voiceText" placeholder="음성 인식 결과가 여기에 표시됩니다" rows="4" cols="50"></textarea>
            <button type="submit" id="applyVoiceBtn">적용</button>
        </form>
        <p id="voiceMessage" style="color:blue; white-space: pre-line;"></p>
    </section>
</main>
<script th:src="@{/js/orderForm.js}"></script>
</body>
</html>
