<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>New Order | Mr. Daebak Dinner</title>
    <link rel="stylesheet" th:href="@{/CSS/customer-order.css}">
</head>
<body>

<header class="navbar">
    <div class="navbar-left">
        <a href="/" class="logo">MR.DAEBAKDINNER</a>
    </div>
    <nav class="navbar-center">
        <a href="#">SIGNUP</a>
        <a href="#">ABOUT US</a>
        <a href="#">MENU</a>
        <a href="#">DELIVERY</a>
    </nav>
    <div class="navbar-right">
        <a href="/customer/logout" class="logout-btn">로그아웃</a>
        <a href="#" class="mypg-btn">마이페이지</a>
    </div>
</header>

<main class="order-main">
    <h1 class="page-title">NEW ORDER</h1>
    <p class="page-subtitle">메뉴와 서빙 스타일을 선택하고 배달 정보를 입력한 뒤 제출하세요.</p>

    <!-- 주문 폼 -->
    <form id="orderForm" th:action="@{/customer/orders/new}" th:object="${orderDTO}" method="post"
          autocomplete="off"
          class="order-form-container">
        <!-- 에러 메시지 -->
        <div th:if="${orderErrMsg}">
            <p th:utext="${orderErrMsg}" class="error-message"></p>
        </div>
        <div th:if="${itemErrMsg}">
            <p th:utext="${itemErrMsg}" class="error-message"></p>
            <ul>
                <li th:each="item : ${insufficientItems}" th:text="${item}" style="color: darkred;"></li>
            </ul>
        </div>

        <!-- 1. 디너 종류 선택 -->
        <div class="top-selection-row">
            <div class="menu-area">
                <h2 class="selection-heading">1. 디너 종류 선택</h2>
                <div class="menu-card-container">
                    <div class="menu-card" data-menu-value="VALENTINE">
                        <img th:src="@{/images/Valentine_Dinner.png}" alt="Valentine dinner" class="menu-image">
                        <div class="card-info">
                            <h3>VALENTINE</h3>
                            <p>사랑하는 연인을 위한 가장 완벽한 선택.<br>섬세한 큐피드와 하트 장식으로 포인트를 준 플레이트 위에서 펼쳐지는 와인과 스테이크의 우아한 조화.</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="FRENCH">
                        <img th:src="@{/images/French_Dinner.png}" alt="French dinner" class="menu-image">
                        <div class="card-info">
                            <h3>FRENCH</h3>
                            <p>프렌치 다이닝의 정수.<br>샐러드로 시작해서 스테이크, 와인, 커피로 이어지는 미식의 절정.</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="ENGLISH">
                        <img th:src="@{/images/English_Dinner.png}" alt="English dinner" class="menu-image">
                        <div class="card-info">
                            <h3>ENGLISH</h3>
                            <p>영국의 맛을 대표하는 4가지 메뉴의 조화.<br>부드러운 에그 스크램블, 베이컨, 빵, 풍미 깊은 스테이크.</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="CHAMPAGNE">
                        <img th:src="@{/images/Champagne_Dinner.png}" alt="Champagne Feast dinner" class="menu-image">
                        <div class="card-info">
                            <h3>CHAMPAGNE</h3>
                            <p>두 분을 위한 완벽한 축하 테이블.<br>샴페인 1병, 바삭한 바게트 빵 4개, 와인, 메인 스테이크, 그리고 커피 1포트까지.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. 서빙 스타일 선택 -->
            <div class="selections-wrapper">
                <div class="kind-selection-area">
                    <h2 class="selection-heading">선택된 디너</h2>
                    <div class="kind-select-wrapper">
                        <select id="menuSelect" th:field="*{dinnerKind}">
                            <option value="" selected hidden>사진을 클릭하여 메뉴를 선택하세요</option>
                            <option value="VALENTINE">Valentine dinner</option>
                            <option value="FRENCH">French dinner</option>
                            <option value="ENGLISH">English dinner</option>
                            <option value="CHAMPAGNE">Champagne Feast dinner</option>
                        </select>
                    </div>
                </div>

                <div class="style-area">
                    <h2 class="selection-heading">2. 서빙 스타일 선택</h2>

                    <div class="radio-group-wrapper" role="radiogroup" aria-labelledby="style-heading">

                        <div class="radio-option">
                            <input type="radio" th:field="*{dinnerStyle}" id="styleSimple" th:value="'SIMPLE'">
                            <label for="styleSimple">
                                <span class="radio-label-title">Simple</span>
                                <p class="radio-description">
                                    플라스틱 식기와 종이 냅킨, 플라스틱 와인잔이 제공되는 기본 서비스입니다.
                                </p>
                            </label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" th:field="*{dinnerStyle}" id="styleGrand" th:value="'GRAND'">
                            <label for="styleGrand">
                                <span class="radio-label-title">Grand</span>
                                <p class="radio-description">
                                    도자기 식기와 면 냅킨, 플라스틱 와인잔이 나무 쟁반에 제공되어 격식 있는 분위기를 연출합니다.
                                </p>
                            </label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" th:field="*{dinnerStyle}" id="styleDeluxe" th:value="'DELUXE'">
                            <label for="styleDeluxe">
                                <span class="radio-label-title">Deluxe</span>
                                <p class="radio-description">
                                    작은 꽃병과 유리 와인잔이 추가되어, 린넨 냅킨과 함께 나무 쟁반에 제공되는 서비스입니다.
                                </p>
                            </label>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- 3. 주문 구성 -->
        <fieldset class="order-items-fieldset" th:object="${orderItemDTO}">
            <legend class="fieldset-legend">3. 주문 구성 (옵션 설정)</legend>
            <div class="item-list-grid">
                <div class="item-group">
                    <label for="wine">와인 (&#8361;43,000)</label>
                    <input type="number" id="wine" th:field="*{wine}" min="0">
                </div>
                <div class="item-group">
                    <label for="steak">스테이크 (&#8361;39,000)</label>
                    <input type="number" id="steak" th:field="*{steak}" min="0">
                </div>
                <div class="item-group">
                    <label for="coffee_cup">커피 (컵) (&#8361;6,000)</label>
                    <input type="number" id="coffee_cup" th:field="*{coffee_cup}" min="0">
                </div>
                <div class="item-group">
                    <label for="coffee_pot">커피 (포트) (&#8361;36,000)</label>
                    <input type="number" id="coffee_pot" th:field="*{coffee_pot}" min="0">
                </div>
                <div class="item-group">
                    <label for="salad">샐러드 (&#8361;23,000)</label>
                    <input type="number" id="salad" th:field="*{salad}" min="0">
                </div>
                <div class="item-group">
                    <label for="eggscramble">스크램블 에그 (&#8361;16,000)</label>
                    <input type="number" id="eggscramble" th:field="*{eggscramble}" min="0">
                </div>
                <div class="item-group">
                    <label for="bacon">베이컨 (&#8361;10,000)</label>
                    <input type="number" id="bacon" th:field="*{bacon}" min="0">
                </div>
                <div class="item-group">
                    <label for="bread">빵 (&#8361;7,000)</label>
                    <input type="number" id="bread" th:field="*{bread}" min="0">
                </div>
                <div class="item-group">
                    <label for="baguette">바게트 (&#8361;8,000)</label>
                    <input type="number" id="baguette" th:field="*{baguette}" min="0">
                </div>
                <div class="item-group">
                    <label for="champagne">샴페인 (&#8361;98,000)</label>
                    <input type="number" id="champagne" th:field="*{champagne}" min="0">
                </div>
            </div>
        </fieldset>

        <!-- 4. 배달 및 결제 정보 -->
        <section class="delivery-payment-info">
            <h2 class="selection-heading full-width-heading">4. 배달 및 결제 정보</h2>

            <div class="form-group">
                <label for="deliveryAddress">배달 주소</label>
                <input type="text" id="deliveryAddress" th:field="*{deliveryAddress}" /><!-- TODO: required -->
            </div>

            <div class="form-group">
                <label for="cardNumber">카드 번호</label>
                <input type="text" id="cardNumber" th:field="*{cardNumber}" /><!-- TODO: required -->
            </div>
        </section>

        <div class="form-actions">
            <button type="button" id="resetBtn" class="secondary-btn"
                onclick="window.location.href='/customer/orders/new/reset'">초기화</button>
            <button type="submit" class="primary-btn">주문 제출</button>
            <a th:href="@{/customer/main}" class="tertiary-btn">이전</a>
        </div>
    </form>

    <!-- 음성 인식 섹션 -->
    <section>
        <h2>음성 인식 주문</h2>
        <form id="voiceForm" action="javascript:void(0);" class="voiceform">
            <button type="button" id="voiceBtn" class="voiceBtn">음성인식</button>
            <label for="voiceText">인식된 주문</label>
            <textarea id="voiceText" placeholder="음성 인식 결과가 여기에 표시됩니다" rows="4" cols="50" class="voicetext"></textarea>
            <button type="submit" id="applyVoiceBtn" class="applyVoiceBtn">적용</button>
        </form>
        <p id="voiceMessage" class="voiceMsg"></p>
    </section>
</main>
<script th:src="@{/js/orderForm.js}"></script>
</body>
</html>
