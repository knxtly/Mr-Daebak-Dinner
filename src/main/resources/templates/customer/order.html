<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>New Order | Mr. Daebak Dinner</title>
    <link rel="stylesheet" th:href="@{/CSS/customer-order.css}">
</head>
<body>

<header class="navbar">
    <div class="navbar-left">
        <a href="/" class="logo">MR.DAEBAKDINNER</a>
    </div>
    <nav class="navbar-center">
        <a href="#">SIGNUP</a>
        <a href="#">ABOUT US</a>
        <a href="#">MENU</a>
        <a href="#">DELIVERY</a>
    </nav>
    <div class="navbar-right">
        <a href="/customer/logout" class="logout-btn">로그아웃</a>
        <a href="#" class="mypg-btn">마이페이지</a>
    </div>
</header>

<main class="order-main">
    <h1 class="page-title">NEW ORDER</h1>
    <p class="page-subtitle">메뉴와 서빙 스타일을 선택하고 배달 정보를 입력한 뒤 제출하세요.</p>
    <!-- 주문 폼 -->
    <form id="orderForm" th:action="@{/customer/orders/new}" method="post" autocomplete="off" novalidate class="order-form-container">

        <select id="menuSelect" name="dinnerKind" required class="hidden-select">
            <option value="" selected hidden>메뉴를 선택하세요</option>
            <option value="VALENTINE">Valentine dinner</option>
            <option value="FRENCH">French dinner</option>
            <option value="ENGLISH">English dinner</option>
            <option value="CHAMPAGNE">Champagne Feast dinner</option>
        </select>

        <div class="top-selection-row">
            <div class="menu-area">
                <h2 class="selection-heading">1. 디너 종류 선택</h2>
                <div class="menu-card-container">
                    <div class="menu-card" data-menu-value="VALENTINE">
                        <img th:src="@{/images/Valentine_Dinner.png}" alt="Valentine dinner" class="menu-image">
                        <div class="card-info">
                            <h3>VALENTINE</h3>
                            <p>로맨틱한 밤을 위한 스페셜 디너 세트</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="FRENCH">
                        <img th:src="@{/images/French_Dinner.png}" alt="French dinner" class="menu-image">
                        <div class="card-info">
                            <h3>FRENCH</h3>
                            <p>클래식하고 우아한 정통 프랑스 코스</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="ENGLISH">
                        <img th:src="@{/images/English_Dinner.png}" alt="English dinner" class="menu-image">
                        <div class="card-info">
                            <h3>ENGLISH</h3>
                            <p>따뜻하고 풍성한 브런치 스타일의 디너</p>
                        </div>
                    </div>
                    <div class="menu-card" data-menu-value="CHAMPAGNE">
                        <img th:src="@{/images/Champagne_Dinner.png}" alt="Champagne Feast dinner" class="menu-image">
                        <div class="card-info">
                            <h3>CHAMPAGNE</h3>
                            <p>샴페인과 함께하는 화려한 파티 만찬</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 서빙 스타일 선택 -->
            <div class="style-area">
                <h2 class="selection-heading">2. 서빙 스타일 선택</h2>
                <div class="style-select-wrapper">
                    <select id="styleSelect" name="dinnerStyle" required>
                        <option value="" selected hidden>스타일을 선택하세요</option>
                        <option value="SIMPLE">Simple</option>
                        <option value="GRAND">Grand</option>
                        <option value="DELUXE">Deluxe</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 주문 아이템 -->
        <fieldset class="order-items-fieldset">
            <legend class="fieldset-legend">3. 주문 구성 (옵션 설정)</legend>
            <div class="item-list-grid">
                <div class="item-group">
                    <label for="wine">와인 (&#8361;43,000)</label>
                    <input type="number" id="wine" name="orderItems[wine]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="steak">스테이크 (&#8361;39,000)</label>
                    <input type="number" id="steak" name="orderItems[steak]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="coffee_cup">커피 (컵) (&#8361;6,000)</label>
                    <input type="number" id="coffee_cup" name="orderItems[coffee_cup]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="coffee_pot">커피 (포트) (&#8361;36,000)</label>
                    <input type="number" id="coffee_pot" name="orderItems[coffee_pot]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="salad">샐러드 (&#8361;23,000)</label>
                    <input type="number" id="salad" name="orderItems[salad]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="eggscramble">스크램블 에그 (&#8361;16,000)</label>
                    <input type="number" id="eggscramble" name="orderItems[eggscramble]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="bacon">베이컨 (&#8361;10,000)</label>
                    <input type="number" id="bacon" name="orderItems[bacon]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="bread">빵 (&#8361;7,000)</label>
                    <input type="number" id="bread" name="orderItems[bread]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="baguette">바게트 (&#8361;8,000)</label>
                    <input type="number" id="baguette" name="orderItems[baguette]" min="0" value="0">
                </div>
                <div class="item-group">
                    <label for="champagne">샴페인 (&#8361;98,000)</label>
                    <input type="number" id="champagne" name="orderItems[champagne]" min="0" value="0">
                </div>
            </div>
        </fieldset>

        <!-- 배달 주소 -->
        <section class="delivery-payment-info">
            <h2 class="selection-heading full-width-heading">4. 배달 및 결제 정보</h2>

            <div class="form-group">
                <label for="deliveryAddress">배달 주소</label>
                <input type="text" id="deliveryAddress" name="deliveryAddress" required/>
            </div>

            <!-- 카드 번호 -->
            <div class="form-group">
                <label for="cardNumber">카드 번호</label>
                <input type="text" id="cardNumber" name="cardNumber" required/>
            </div>
        </section>

        <div class="form-actions">
            <button type="reset" id="resetBtn" class="secondary-btn">초기화</button>
            <button type="submit" class="primary-btn">주문 제출</button>
            <a th:href="@{/customer/main}" class="tertiary-btn">이전</a>
        </div>

        <!-- Order 에러 표시 -->
        <div th:if="${orderErrorMessage}">
            <p th:utext="${orderErrorMessage}" class="error-message"></p>
        </div>
        <!-- Item 에러 표시 -->
        <div th:if="${itemErrorMessage}">
            <p th:utext="${itemErrorMessage}" class="error-message"></p>
            <ul>
                <li th:each="item : ${insufficientItems}" th:text="${item}" style="color: darkred;"></li>
            </ul>
        </div>
    </form>

    <!-- 음성 인식 폼 -->
    <section>
        <h2>음성 인식 주문</h2>
        <form id="voiceForm" action="javascript:void(0);" class="voiceform">
            <button type="button" id="voiceBtn" class="voiceBtn">음성인식</button>
            <label for="voiceText">인식된 주문</label>
            <textarea id="voiceText" placeholder="음성 인식 결과가 여기에 표시됩니다" rows="4" cols="50" class="voicetext"></textarea>
            <button type="submit" id="applyVoiceBtn" class="applyVoiceBtn">적용</button>
        </form>
        <p id="voiceMessage" class="voiceMsg"></p>
    </section>
</main>
<script th:src="@{/js/orderForm.js}"></script>
</body>
</html>
